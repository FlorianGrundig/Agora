extends ../../../views/layout
include ../../members/views/memberlist-mixin

block title
    | #{group.longName}

block content
  .row
    .col-md-12
      .page-header
        .btn-group.pull-right
          a.btn.btn-default(href="/wiki/#{group.id}/")
            i.fa.fa-book.fa-fw 
            | &nbsp;#{t("wiki.wiki")}
          if (accessrights.canViewGroupDetails(group))
            a.btn.btn-default(href="/mailarchive/list/threaded/#{group.id}", title=t("mailarchive.archive"))
              i.fa.fa-archive.fa-fw
              | &nbsp;#{t("mailarchive.archive")}
          if (accessrights.canEditGroup(group))
            a.btn.btn-default(href="/groups/edit/#{group.id}", title=t("general.edit")): i.fa.fa-edit
        h2 #{group.longName} 
          small #{group.type} 
      p
        strong
          | #{t("general.address")}:
        | 
        a(href="mailto:#{group.id}@softwerkskammer.org")
          | #{group.id}@softwerkskammer.org
      |!{group.descriptionHTML()}

      if (accessrights.canParticipateInGroup(group))
        if (userIsGroupMember)
          a.btn.btn-primary(href="unsubscribe/#{group.id}") #{t("groups.leave")}
        else
          a.btn.btn-primary(href="subscribe/#{group.id}") #{t("groups.join")}
      h4 #{t("members.members")}:
      | #{t("groups.has")}
      if (users.length === 1)
        |  #{t("groups.one_member")}.
      else if (users.length === 0)
        |  #{t("groups.no_members")}.
      else
        |  #{t("groups.count_members", {count: users.length})}.
      mixin memberlist(users, organizers)
